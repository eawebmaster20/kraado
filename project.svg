<svg width="1200" height="1000" viewBox="0 0 1200 1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f8f9fa;stop-opacity:1" />
    </linearGradient>
    
    <!-- Microsoft Word-style gradients (more subtle) -->
    <linearGradient id="clientGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#bbdefb;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="gatewayGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffebee;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffcdd2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="serviceGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c8e6c9;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="storageGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fff8e1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffecb3;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="infraGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e1bee7;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 7,3" fill="#333333" />
    </marker>
  </defs>
  
  <rect width="1200" height="1000" fill="url(#bgGradient)" />
  
  <!-- Title -->
  <text x="600" y="35" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    Booking Service Architecture
  </text>
  
  <!-- Client Layer -->
  <g id="client-layer">
    <!-- Client Applications -->
    <rect x="200" y="70" width="250" height="80" rx="5" fill="url(#clientGradient)" stroke="#1976d2" stroke-width="1.5" />
    <text x="325" y="90" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">Client Applications</text>
    <text x="325" y="105" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Web (React/Vue) • Mobile (React Native)</text>
    <text x="325" y="120" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">REST • WebSocket • Push Notifications</text>
    <text x="325" y="135" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Real-time Updates</text>
    
    <!-- Internal Services -->
    <rect x="750" y="70" width="250" height="80" rx="5" fill="url(#clientGradient)" stroke="#1976d2" stroke-width="1.5" />
    <text x="875" y="90" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">Internal Services</text>
    <text x="875" y="105" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Payment • Notifications • Analytics</text>
    <text x="875" y="120" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">gRPC • Internal APIs</text>
    <text x="875" y="135" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Service Mesh</text>
  </g>
  
  <!-- Load Balancer -->
  <rect x="475" y="180" width="250" height="60" rx="5" fill="url(#gatewayGradient)" stroke="#d32f2f" stroke-width="1.5" />
  <text x="600" y="200" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#d32f2f">Load Balancer</text>
  <text x="600" y="215" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Nginx/HAProxy • SSL Termination</text>
  <text x="600" y="230" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Health Checks • Rate Limiting</text>
  
  <!-- API Gateway -->
  <rect x="475" y="270" width="250" height="60" rx="5" fill="url(#gatewayGradient)" stroke="#d32f2f" stroke-width="1.5" />
  <text x="600" y="290" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#d32f2f">API Gateway</text>
  <text x="600" y="305" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Kong/AWS API Gateway</text>
  <text x="600" y="320" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">JWT Auth • CORS • API Versioning</text>
  
  <!-- Core Booking Service -->
  <rect x="350" y="360" width="500" height="120" rx="5" fill="url(#serviceGradient)" stroke="#388e3c" stroke-width="2" />
  <text x="600" y="385" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="16" font-weight="bold" fill="#388e3c">Booking Service (Core)</text>
  <text x="600" y="405" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="12" fill="#555">Business Logic • Validation • State Management</text>
  <text x="600" y="420" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#777">Node.js • Express • Docker • Kubernetes</text>
  
  <!-- API Endpoints (Left side) -->
  <text x="370" y="440" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#388e3c" font-weight="bold">REST Endpoints:</text>
  <text x="370" y="455" font-family="Consolas, monospace" font-size="9" fill="#555">GET /api/v1/bookings</text>
  <text x="370" y="470" font-family="Consolas, monospace" font-size="9" fill="#555">POST /api/v1/bookings</text>
  
  <!-- Features (Right side) -->
  <text x="650" y="440" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#388e3c" font-weight="bold">Features:</text>
  <text x="650" y="455" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#555">• Conflict Detection • Auto-confirmation</text>
  <text x="650" y="470" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#555">• Cancellation Logic • Waitlist Management</text>
  
  <!-- Supporting Services Row -->
  <g id="supporting-services">
    <!-- WebSocket Server -->
    <rect x="50" y="510" width="200" height="80" rx="5" fill="url(#infraGradient)" stroke="#7b1fa2" stroke-width="1.5" />
    <text x="150" y="535" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="13" font-weight="bold" fill="#7b1fa2">WebSocket Server</text>
    <text x="150" y="550" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Real-time Communication</text>
    <text x="150" y="565" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Socket.io • Redis Adapter</text>
    <text x="150" y="580" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Live Availability Updates</text>
    
    <!-- Message Queue -->
    <rect x="475" y="510" width="250" height="80" rx="5" fill="url(#infraGradient)" stroke="#7b1fa2" stroke-width="1.5" />
    <text x="600" y="535" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="13" font-weight="bold" fill="#7b1fa2">Message Queue</text>
    <text x="600" y="550" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Redis Pub/Sub • Event Distribution</text>
    <text x="600" y="565" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Job Queue • Real-time Events</text>
    <text x="600" y="580" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Notifications • Background Processing</text>
    
    <!-- Background Workers -->
    <rect x="950" y="510" width="200" height="80" rx="5" fill="url(#infraGradient)" stroke="#7b1fa2" stroke-width="1.5" />
    <text x="1050" y="535" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="13" font-weight="bold" fill="#7b1fa2">Background Workers</text>
    <text x="1050" y="550" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Async Job Processing</text>
    <text x="1050" y="565" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Bull Queue • Email/SMS</text>
    <text x="1050" y="580" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Reminder • Cleanup Jobs</text>
  </g>
  
  <!-- Storage Layer -->
  <g id="storage-layer">
    <!-- PostgreSQL -->
    <rect x="200" y="620" width="250" height="110" rx="5" fill="url(#storageGradient)" stroke="#f57c00" stroke-width="1.5" />
    <text x="325" y="645" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57c00">PostgreSQL Database</text>
    <text x="325" y="660" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Primary Database • ACID Compliance</text>
    <text x="325" y="675" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Connection Pool • Replication</text>
    <text x="210" y="695" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#f57c00" font-weight="bold">Tables:</text>
    <text x="210" y="710" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#555">• users • bookings • providers • time_slots</text>
    <text x="210" y="725" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#555">• payments • audit_logs • configurations</text>
    
    <!-- Redis -->
    <rect x="750" y="620" width="250" height="110" rx="5" fill="url(#storageGradient)" stroke="#f57c00" stroke-width="1.5" />
    <text x="875" y="645" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57c00">Redis Cache</text>
    <text x="875" y="660" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Cache & Message Broker</text>
    <text x="875" y="675" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Cache • Pub/Sub • Queue • Session</text>
    <text x="760" y="695" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#f57c00" font-weight="bold">Features:</text>
    <text x="760" y="710" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#555">• Session store • Rate limiting • Job queue</text>
    <text x="760" y="725" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#555">• Real-time pub/sub • Cache layer • Locks</text>
  </g>
  
  <!-- Monitoring -->
  <rect x="475" y="760" width="250" height="60" rx="5" fill="url(#infraGradient)" stroke="#7b1fa2" stroke-width="1.5" />
  <text x="600" y="780" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="14" font-weight="bold" fill="#7b1fa2">Monitoring & Observability</text>
  <text x="600" y="795" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="11" fill="#555">Prometheus • Grafana • ELK Stack</text>
  <text x="600" y="810" text-anchor="middle" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#777">Metrics • Logs • Tracing • Alerts</text>
  
  <!-- Arrows - Microsoft Word style (straight lines with clean connections) -->
  
  <!-- Client Applications to Load Balancer -->
  <line x1="400" y1="150" x2="550" y2="180" stroke="#333333" stroke-width="1.5" marker-end="url(#arrow)" />
  
  <!-- Internal Services to Load Balancer -->
  <line x1="800" y1="150" x2="650" y2="180" stroke="#333333" stroke-width="1.5" marker-end="url(#arrow)" />
  
  <!-- Load Balancer to API Gateway -->
  <line x1="600" y1="240" x2="600" y2="270" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- API Gateway to Booking Service -->
  <line x1="600" y1="330" x2="600" y2="360" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- Booking Service to WebSocket Server -->
  <line x1="450" y1="480" x2="250" y2="510" stroke="#333333" stroke-width="1.5" marker-end="url(#arrow)" />
  
  <!-- Booking Service to Message Queue -->
  <line x1="600" y1="480" x2="600" y2="510" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- Booking Service to Background Workers -->
  <line x1="750" y1="480" x2="950" y2="510" stroke="#333333" stroke-width="1.5" marker-end="url(#arrow)" />
  
  <!-- Message Queue to PostgreSQL -->
  <line x1="550" y1="590" x2="400" y2="620" stroke="#333333" stroke-width="1.5" marker-end="url(#arrow)" />
  
  <!-- Message Queue to Redis -->
  <line x1="650" y1="590" x2="800" y2="620" stroke="#333333" stroke-width="1.5" marker-end="url(#arrow)" />
  
  <!-- WebSocket to Redis (for real-time) -->
  <line x1="250" y1="590" x2="750" y2="650" stroke="#7b1fa2" stroke-width="1" stroke-dasharray="5,3" />
  
  <!-- Background Workers to PostgreSQL -->
  <line x1="950" y1="590" x2="450" y2="650" stroke="#7b1fa2" stroke-width="1" stroke-dasharray="5,3" />
  
  <!-- All components to Monitoring (dashed lines) -->
  <line x1="325" y1="730" x2="550" y2="760" stroke="#7b1fa2" stroke-width="1" stroke-dasharray="3,3" />
  <line x1="600" y1="590" x2="600" y2="760" stroke="#7b1fa2" stroke-width="1" stroke-dasharray="3,3" />
  <line x1="875" y1="730" x2="650" y2="760" stroke="#7b1fa2" stroke-width="1" stroke-dasharray="3,3" />
  
  <!-- Labels for arrows -->
  <text x="480" y="165" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">HTTP/HTTPS</text>
  <text x="720" y="165" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">gRPC</text>
  <text x="610" y="255" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Route</text>
  <text x="610" y="345" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Auth/Validate</text>
  <text x="320" y="495" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Real-time Events</text>
  <text x="610" y="495" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Queue Jobs</text>
  <text x="880" y="495" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Process Jobs</text>
  <text x="460" y="605" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Persist Data</text>
  <text x="740" y="605" font-family="Calibri, Arial, sans-serif" font-size="9" fill="#333">Cache/Session</text>
  
  <!-- Legend -->
  <g id="legend" transform="translate(50, 850)">
    <text x="0" y="15" font-family="Calibri, Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Legend:</text>
    
    <rect x="0" y="25" width="15" height="15" fill="url(#clientGradient)" stroke="#1976d2" stroke-width="1" />
    <text x="20" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Client Layer</text>
    
    <rect x="120" y="25" width="15" height="15" fill="url(#gatewayGradient)" stroke="#d32f2f" stroke-width="1" />
    <text x="140" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Gateway Layer</text>
    
    <rect x="240" y="25" width="15" height="15" fill="url(#serviceGradient)" stroke="#388e3c" stroke-width="1" />
    <text x="260" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Service Layer</text>
    
    <rect x="360" y="25" width="15" height="15" fill="url(#storageGradient)" stroke="#f57c00" stroke-width="1" />
    <text x="380" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Storage Layer</text>
    
    <rect x="480" y="25" width="15" height="15" fill="url(#infraGradient)" stroke="#7b1fa2" stroke-width="1" />
    <text x="500" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Infrastructure</text>
    
    <!-- Arrow styles -->
    <line x1="600" y1="32" x2="630" y2="32" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
    <text x="635" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Main Flow</text>
    
    <line x1="720" y1="32" x2="750" y2="32" stroke="#7b1fa2" stroke-width="1" stroke-dasharray="3,3" />
    <text x="755" y="37" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Monitoring</text>
  </g>
  
  <!-- Data Flow Indicator -->
  <g transform="translate(1050, 400)">
    <text x="0" y="0" font-family="Calibri, Arial, sans-serif" font-size="12" fill="#333" font-weight="bold">Data Flow</text>
    <line x1="20" y1="10" x2="20" y2="40" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <text x="30" y="30" font-family="Calibri, Arial, sans-serif" font-size="10" fill="#333">Request → Response</text>
  </g>
</svg>